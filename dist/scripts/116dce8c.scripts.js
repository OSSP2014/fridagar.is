!function(a){"function"==typeof define&&define.amd?define(["moment"],a):"object"==typeof exports?module.exports=a(require("../moment")):a(window.moment)}(function(a){function b(a){return a%100===11?!0:a%10===1?!1:!0}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return c?"mínúta":"mínútu";case"mm":return b(a)?f+(c||e?"mínútur":"mínútum"):c?f+"mínúta":f+"mínútu";case"hh":return b(a)?f+(c||e?"klukkustundir":"klukkustundum"):f+"klukkustund";case"d":return c?"dagur":e?"dag":"degi";case"dd":return b(a)?c?f+"dagar":f+(e?"daga":"dögum"):c?f+"dagur":f+(e?"dag":"degi");case"M":return c?"mánuður":e?"mánuð":"mánuði";case"MM":return b(a)?c?f+"mánuðir":f+(e?"mánuði":"mánuðum"):c?f+"mánuður":f+(e?"mánuð":"mánuði");case"y":return c||e?"ár":"ári";case"yy":return b(a)?f+(c||e?"ár":"árum"):f+(c||e?"ár":"ári")}}return a.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:c,m:c,mm:c,h:"klukkustund",hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),angular.module("endpoint-config",[]).constant("ENV",{name:"build",api:"http://murmuring-spire-5393.herokuapp.com/api/"}),angular.module("fridagarApp",["ngCookies","ngResource","ngSanitize","ngRoute","angular-datafetcher","endpoint-config"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",resolve:{holidays:["holidayservice",function(a){return a.getHolidays()}]}}).otherwise({redirectTo:"/"})}]).run(["$window",function(a){a.moment.lang("is")}]),angular.module("fridagarApp").controller("MainCtrl",["$rootScope","$scope","holidays","holidayservice",function(a,b,c,d){var e=moment().format("YYYY-MM-DD");b.holidays=c.result,b.daysToNextHoliday=d.daysToNextHoliday(e,b.holidays),b.holidaysInCurrentMonth=d.holidaysInMonth(e,b.holidays),a.$on("click:monthchange",function(a,c){b.$apply(function(){b.holidaysInCurrentMonth=d.holidaysInMonth(c,b.holidays)})})}]),angular.module("fridagarApp").service("holidayservice",["ENV","$datafetcher",function(a,b){return{getHolidays:function(c,d){var e=a.api+"holidays/isl/";if(angular.isDefined(c))e+=c+"/"+d;else{var f=moment().year();e+=f+"/"+f}return b.get(e)},holidaysInMonth:function(a,b){var c=[];return angular.forEach(b,function(b){moment(b.holidayDate).isSame(a,"month")&&c.push(b)}),c},daysToNextHoliday:function(a,b){var c;return angular.forEach(b,function(b){if(moment(b.holidayDate).isAfter(a)){var d=moment(b.holidayDate).diff(a,"days");(angular.isUndefined(c)||c>d)&&(c=d)}}),c}}}]),angular.module("fridagarApp").directive("calendar",["$rootScope",function(a){return{restrict:"A",scope:{events:"="},link:function(b,c){console.log(b.events);var d,e='<div class="controls row">                 <div class="clndr-previous-button col-md-2">&lsaquo;</div>                 <div class="month col-md-8"><%= month %></div>                 <div class="clndr-next-button col-md-2">&rsaquo;</div>                </div>                <div class="clndr-grid">                 <div class="days-of-the-week clearfix">                   <% _.each(daysOfTheWeek, function(day) { %>                     <div class="header-day"><%= day %></div>                   <% }); %>                   <div class="days clearfix">                     <% _.each(days, function(day) { %>                       <div class="<%= day.classes %>" id="<%= day.id %>"><span class="day-number"><%= day.day %></span></div>                     <% }); %>                   </div>                 </div>               </div>';d=$(c).clndr({template:e,events:b.events,dateParameter:"holidayDate",clickEvents:{onMonthChange:function(b){a.$emit("click:monthchange",b)}}})}}}]),angular.module("fridagarApp").filter("momentdate",function(){return function(a,b){return moment(a).format(b)}});